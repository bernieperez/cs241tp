<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_04) on Thu Feb 26 10:16:22 CET 2009 -->
<TITLE>
Enhance
</TITLE>

<META NAME="date" CONTENT="2009-02-26">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../VersantStylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Enhance";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../com/versant/DefineClass.html" title="class in com.versant"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../com/versant/Info.html" title="class in com.versant"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?com/versant/Enhance.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Enhance.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.versant</FONT>
<BR>
Class Enhance</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>com.versant.Enhance</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>Enhance</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
The Enhance utility modifies Java class files so that instances can become
 persistent according to the instructions in a configuration file and the 
 specified parameters.<p>
 <b>Syntax:</b><p>
 <code>Java com.versant.Enhance arguments</code><br><p>
 <code>-in input_class_dir</code>
 <ul>The directory containing the class files to be enhanced. The default 
 is a directory named "in" (relative to the current working directory).
 </ul>
 <code>-out output_class_dir</code>
 <ul>The directory where the enhanced class files are written. The default
 is a directory named "out".</ul>
 <code>-config config_file</code>
 <ul>The path of the configuration file. The configuration file provides
 information on persistence categories for the classes to be processed.
 </ul>
 <code>-nocopy</code>
 <ul>Prevent copying of Not Persistent Aware category files from the input
 directory to the output directory. (Classes designated in the configuration
 file as Not Persistent Aware are not enhanced.) The default is to copy all
 class files from the input directory to the output directory.</ul>
 <code>-manualdirty</code>
 <ul>Turn off the transparent dirtying of the owning First Class Objects when modifying certain Second Class Object (arrays, Vectors and Hashtables).</ul>
 <code>-puretransient</code> 
 <ul>For all persistent classes that are enhanced, fields marked with the
 Java <code>transient</code> keyword will be pure transient attributes rather  than the 
 default computed transient.</ul>
 <code>-verbose</code> 
 <ul>Print out detailed information on the enhancement procedure. The 
 default is non-verbose mode. In verbose mode, Enhancer displays every input
 class file encountered and which line in the specification file matched a
 particular input file together with the persistence category used in the 
 enhancement.</ul>
 The input and output directories must be disjoint, meaning that not only 
 must they be different directories, one directory cannot be a sub-directory
 of the other. After enhancement, the enhanced class files in the output
 directory will have the same name as the input files in the input directory.
 
 <p>
 The Enhancer requires that the 
 CLASSPATH be set prior to the enhancement process. </b> 
 The CLASSPATH must be set since it uses reflection during the enhancement process. 
 It does not however use the CLASSPATH to locate the classes to be enhanced.  
 For more information please refer to the Enhancer section in chapter 3 of the 
 JVI usage manual.

 <p>
 After enhanced class files have been created, you may need to 
 review your setting for the CLASSPATH environment variable to make sure that
 it includes the path to the enhanced class files. This is all the more
 significant if your target directory is different from the source directory.
 If you have used the -nocopy argument to avoid creating duplicate files in 
 the case of Not Persistent Aware classes, you can include both the source 
 and target directories, as long as the directory containing the enhanced 
 files is specified first.<p>
 
 <b>Configuration File Syntax</b><p>
 The configuration file is an ASCII text file with the following types of 
 lines:<p>
 <code># comments</code><p>
 <ul>Enter comments with a pound sign as the first character on the line.
 </ul>
 <code>p class_name</code><p>
 <ul>A Persistent Always class.</ul>
 <code>c class_name</code><p>
 <ul>A Persistent Capable class.</ul>
 <code>a class_name</code>
 <ul>A Persistent Aware class.</ul>
 <code>n class_name</code><p>
 <ul>A Not Persistent Aware class.</ul>
 <code>d class_name</code><p>
 <ul>A Transparent Dirty Owner class.</ul>
 <b>The categories p, c, a, n, and d must be entered as lowercase letters.
 </b><p>
 Enhancer Configuration File Usage Notes<p>
 <ul>&#149;&nbsp;&nbsp;&nbsp;&nbsp;Lines must be comments or specifications.
 All lines in the configuration file must be either comments or 
 specifications.
 </ul>
 <ul>&#149;&nbsp;&nbsp;&nbsp;&nbsp;We recommend that you categorize all 
 classes. If the Enhancer finds an input class that is not classified, it
 will throw an error.</ul>
 <ul>&#149;&nbsp;&nbsp;&nbsp;&nbsp;Class names must be fully qualified. You
 can use wildcards to specify class names. Class names can be indicated with 
 wildcard characters.</ul>
 <b>Usage Notes:</b><p>
 <ul>&#149;&nbsp;&nbsp;&nbsp;&nbsp;Use "*" to match multiple patterns within
 a package namespace.</ul>
 <ul>&#149;&nbsp;&nbsp;&nbsp;&nbsp;Use "**." at the beginning of a
 namespace, ".**" at the end 
 of a namespace, or ".**." in the middle of a namespace to transcend multiple
 packages in performing matches.</ul>
 <ul>&#149;&nbsp;&nbsp;&nbsp;&nbsp;You cannot use more than one specification
 of "**" in a name.</ul>
 <ul>&#149;&nbsp;&nbsp;&nbsp;&nbsp;Matching is case sensitive.</ul>
 For example:<p>
 <code>com.corp.*Dept</code> will include these classes:<p>
 <ul>
                <code>com.corp.EngDept</code><br>
                <code>com.corp.ResearchDept</code>
 </ul>
 but not:
 <ul>
                <code>com.corp.EngDept.group</code><br>
                <code>com.corp.division.EngDept</code>
 </ul>
 <code>com.corp.Eng*</code> will include these classes:
 <ul>
                <code>com.corp.EngDept</code><br>
                <code>com.corp.EngGroup</code>
 </ul>
 but not:
 <ul>
                <code>com.corp.EngDept.group</code><br> 
                <code>com.corp.division.EngDept</code>
 </ul>
 <code>com.**.EngDep*</code> will include these classes:
 <ul>
                <code>com.corp.EngDept</code><br>
                <code>com.EngDept</code><br>
                <code>com.EngDepartment</code></ul>
 The following are valid specifications:
 <ul>
                <code>**.corp.EngDept</code><br>
                <code>**.corp.*Dept com.corp</code><br>
                <code>** com.**.EngDept</code>
 </ul>
 The following are not valid:
 
 <ul>
                <code>com.corp.**Dept</code><br>
                <code>com.**corp.EngDept</code>
 </ul>
 Classes are categorized based on the first matching pattern. You should put
 specific patterns before general patterns. For example:
 <ul>
                <code>p com.mycorp.DeptEng c com.mycorp.D*</code><br>
 </ul>
 
 <b>Configuration File Example:</b><p>
 Following is an example of a configuration file:<p>
 <code># All classes in package com.largecorp are Persistence Capable
 </code><br>
 <code># This would include all classes in the sub-packages, say</code><br>
 <code># com.largecorp.packagex and com.largecorp.packagey.packagez.
 </code><br>
 <code># The "**" in the following line denotes the entire namespace
 </code><br>
 <code># rooted below com.largecorp.</code><br>
 <code>c com.largecorp.**</code><br>
 <code># All classes in package com.smallcorp are Always Persistent.
 </code><br>
 <code># This would not include classes in the sub-package</code><br>
 <code># com.smallcorp.packagea. The "*" is a wild-card character</code><br>
 <code># with scope restricted to the current package namespace. It does
 </code><br>
 <code># not recurse into packages and namespaces anchored below the current
 </code><br>
 <code># space.</code><br>
 <code>p com.smallcorp.*</code><br>
 <code>#</code><br>
 <code># Class com.midcorp.Employee is Persistent Capable.</code><br>
 <code>c com.midcorp.Employee</code><br>
 <code>#</code><br>
 <code># Class com.midcorp.Boss is Persistent Aware.</code><br>
 <code>a com.midcorp.Boss</code><br>
 <code>#</code><br>
 <code># Classes com.midcorp.Minion, com.midcorp.Master are # Persistent
 Capable.</code><br>
 <code>c com.midcorp.M*</code><br>
 <code>#</code><br>
 <code># Class com.midcorp.Test is Persistent Aware.</code><br>
 <code>a com.midcorp.Test</code><br>
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../com/versant/Enhance.html#Enhance()">Enhance</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../com/versant/Enhance.html#main(java.lang.String[])">main</A></B>(java.lang.String[]&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The 'main' function of the enhancer.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Enhance()"><!-- --></A><H3>
Enhance</H3>
<PRE>
public <B>Enhance</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="main(java.lang.String[])"><!-- --></A><H3>
main</H3>
<PRE>
public static void <B>main</B>(java.lang.String[]&nbsp;args)
                 throws java.lang.Throwable</PRE>
<DL>
<DD>The 'main' function of the enhancer.
 <p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>args</CODE> - The command line options.<p>
 The options are:<p>
 <ul><code>-verbose</code></ul>
 <ul><code>-in input_class_dir</code></ul>
 <ul><code>-out output_class_dir</code></ul>
 <ul><code>-config config_file</code></ul>
 <ul><code>-nocopy</code></ul>
 <ul><code>-manualdirty</code></ul>
<DT><B>Throws:</B>
<DD><CODE>java.lang.Throwable</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../com/versant/DefineClass.html" title="class in com.versant"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../com/versant/Info.html" title="class in com.versant"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?com/versant/Enhance.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Enhance.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
